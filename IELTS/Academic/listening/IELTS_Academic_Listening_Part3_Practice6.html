<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Academic Listening Part 3 - Practice 6: Conference Planning</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.3) 0%, rgba(139, 69, 19, 0.2) 50%, rgba(255, 215, 0, 0.1) 100%);
            min-height: 100vh;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 20%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 60%, rgba(139, 69, 19, 0.05) 0%, transparent 50%);
            z-index: -1;
            pointer-events: none;
        }

        /* Header spacing */
        .header-spacer {
            height: 20px;
            width: 100%;
        }

        /* Guruvammal Logo as Back Button */
        .gk-logo-container {
            position: fixed;
            top: 30px;
            right: 30px;
            z-index: 1002;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.3rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .gk-logo-container:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(139, 69, 19, 0.3);
        }

        .master-guruvammal-logo {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            box-sizing: border-box;
            font-family: 'Century Gothic', sans-serif;
            font-size: 26px;
            font-weight: 900;
            letter-spacing: -1px;
            line-height: 1;
            color: #5d3a0a;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.3);
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.15) 0%, rgba(139, 69, 19, 0.25) 50%, rgba(205, 133, 63, 0.2) 100%);
            backdrop-filter: blur(10px);
            border-radius: 6px;
            padding: 10px;
            box-shadow: 0 8px 25px rgba(139, 69, 19, 0.3), 0 0 40px rgba(212, 175, 55, 0.2);
            z-index: 10000;
            transition: all 0.3s ease;
        }

        .master-guruvammal-logo .musical-corner {
            position: absolute;
            top: 2px;
            right: 3px;
            font-size: 10px;
            color: #5d3a0a;
            font-weight: 900;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.3);
        }

        .master-guruvammal-logo:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 30px rgba(139, 69, 19, 0.4), 0 0 50px rgba(212, 175, 55, 0.3);
        }

        .back-label {
            font-size: 0.75rem;
            font-weight: 600;
            color: #5d3a0a;
            font-family: 'Century Gothic', sans-serif;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
            text-align: center;
            transition: all 0.3s ease;
        }

        .gk-logo-container:hover .back-label {
            color: #3a2006;
            transform: translateY(-1px);
        }

        /* Container with menu support */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            margin-left: 360px;
            transition: margin-left 0.3s ease;
        }

        .container.menu-collapsed {
            margin-left: 20px;
        }

        /* Main Content */
        .main-content {
            margin-top: 0;
            padding: 1.5rem 2rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Professional Slide-out Menu */
        .slide-menu {
            position: fixed;
            left: 0;
            top: 0;
            width: 340px;
            height: 100vh;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 249, 250, 0.95) 100%);
            backdrop-filter: blur(20px);
            border-right: 3px solid rgba(70, 130, 180, 0.3);
            box-shadow: 8px 0 30px rgba(25, 25, 112, 0.15);
            z-index: 1000;
            overflow-y: auto;
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform: translateX(0);
        }

        .slide-menu.collapsed {
            transform: translateX(-340px);
        }

        .menu-header {
            background: linear-gradient(135deg, #8b4513, #d4af37);
            color: white;
            padding: 2rem 1.5rem 1.5rem;
            border-bottom: 2px solid rgba(139, 69, 19, 0.3);
            position: relative;
            overflow: hidden;
        }

        .menu-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 20%, rgba(212, 175, 55, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 80% 80%, rgba(255, 215, 0, 0.15) 0%, transparent 40%);
            pointer-events: none;
        }

        .menu-title {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 1;
        }

        .menu-subtitle {
            font-size: 0.9rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .menu-content {
            padding: 1.5rem 0;
        }

        .menu-item {
            display: block;
            padding: 1rem 1.5rem;
            text-decoration: none;
            color: #333;
            border-bottom: 1px solid rgba(70, 130, 180, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .menu-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(135deg, #d4af37, #8b4513);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }

        .menu-item:hover {
            background: rgba(212, 175, 55, 0.08);
            color: #8b4513;
            transform: translateX(8px);
        }

        .menu-item:hover::before {
            transform: scaleY(1);
        }

        .item-title {
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 0.2rem;
        }

        .item-description {
            font-size: 0.85rem;
            color: #666;
            line-height: 1.4;
        }

        /* Menu Toggle Button */
        .menu-toggle {
            position: fixed;
            top: 30px;
            left: 360px;
            background: linear-gradient(135deg, #8b4513, #a0522d);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            z-index: 1001;
            box-shadow: 0 4px 15px rgba(139, 69, 19, 0.3);
            transition: all 0.3s ease;
        }

        .menu-toggle:hover {
            background: linear-gradient(135deg, #a0522d, #8b4513);
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(139, 69, 19, 0.4);
        }

        .menu-toggle.collapsed {
            left: 30px;
        }

        /* Hero Section */
        .hero-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 3rem 2rem;
            text-align: center;
            margin-bottom: 3rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 30% 30%, rgba(70, 130, 180, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(25, 25, 112, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .hero-title {
            font-size: 2.8rem;
            font-weight: 900;
            color: #8b4513;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .hero-subtitle {
            font-size: 1.4rem;
            color: #666;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 1;
        }

        .hero-description {
            font-size: 1.1rem;
            color: #555;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.7;
            position: relative;
            z-index: 1;
        }

        /* Section Styles */
        .content-section {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border-left: 5px solid #d4af37;
        }

        .section-title {
            color: #8b4513;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            text-align: center;
            border-bottom: 3px solid #d4af37;
            padding-bottom: 0.5rem;
        }

        .speakers-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .speaker-card {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(255, 215, 0, 0.05));
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #d4af37;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .speaker-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.3);
        }

        .speaker-card.active {
            border-color: #8b4513;
            background: linear-gradient(135deg, rgba(139, 69, 19, 0.1), rgba(212, 175, 55, 0.1));
            transform: scale(1.02);
        }

        .speaker-name {
            font-size: 1.3em;
            font-weight: bold;
            color: #5d3a0a;
            margin-bottom: 8px;
        }

        .speaker-role {
            color: #8b4513;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .speaker-details {
            color: #666;
            font-size: 0.95em;
            line-height: 1.5;
        }

        .conversation-context {
            background: rgba(255, 215, 0, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #d4af37;
        }

        /* Audio Player Styles */
        .play-btn {
            background: linear-gradient(135deg, #d4af37, #8b4513);
            color: white;
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4);
            margin-bottom: 1rem;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        .play-btn:hover:not(:disabled) {
            background: linear-gradient(135deg, #8b4513, #a0522d);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.6);
        }

        .play-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .progress-container {
            background: rgba(139, 69, 19, 0.1);
            border-radius: 10px;
            padding: 0.5rem;
            margin-top: 1rem;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }

        .progress-fill {
            background: linear-gradient(90deg, #d4af37, #8b4513);
            height: 100%;
            width: 0%;
            transition: width 0.2s ease;
        }

        .time-display {
            text-align: center;
            font-size: 0.9rem;
            color: #8b4513;
            font-weight: 600;
        }

        .question-group {
            margin-bottom: 35px;
            padding: 20px;
            background: rgba(255, 215, 0, 0.05);
            border-radius: 12px;
            border: 1px solid #d4af37;
        }

        .question-group-title {
            font-size: 1.2em;
            color: #8b4513;
            margin-bottom: 20px;
            font-weight: bold;
            text-align: center;
        }

        .question {
            margin-bottom: 25px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #d4af37;
        }

        .question-number {
            font-weight: bold;
            color: #5d3a0a;
            margin-bottom: 10px;
        }

        .question-text {
            margin-bottom: 15px;
            font-size: 1.05em;
            line-height: 1.6;
        }

        .matching-container {
            display: flex;
            gap: 30px;
            margin: 20px 0;
        }

        .matching-list {
            flex: 1;
        }

        .matching-options {
            flex: 1;
        }

        .matching-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(255, 215, 0, 0.05);
            border-radius: 8px;
            border: 1px solid #d4af37;
        }

        .matching-item label {
            margin-right: 15px;
            font-weight: bold;
            color: #5d3a0a;
            min-width: 120px;
        }

        .matching-select {
            background: white;
            border: 2px solid #d4af37;
            border-radius: 6px;
            padding: 8px 12px;
            font-size: 16px;
            flex: 1;
        }

        .matching-select:focus {
            outline: none;
            border-color: #8b4513;
            box-shadow: 0 0 5px rgba(212, 175, 55, 0.3);
        }

        .options-list {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #d4af37;
        }

        .options-list h4 {
            color: #8b4513;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .options-list p {
            margin-bottom: 8px;
            color: #666;
            line-height: 1.4;
        }

        .completion-input {
            background: white;
            border: 2px solid #d4af37;
            border-radius: 6px;
            padding: 8px 12px;
            margin-left: 10px;
            min-width: 150px;
            font-size: 16px;
        }

        .completion-input:focus {
            outline: none;
            border-color: #8b4513;
            box-shadow: 0 0 5px rgba(212, 175, 55, 0.3);
        }

        .submit-btn {
            background: linear-gradient(135deg, #8b4513, #5d3a0a);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
            display: block;
            margin: 30px auto;
        }

        .submit-btn:hover {
            background: linear-gradient(135deg, #5d3a0a, #3d250a);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 69, 19, 0.4);
        }

        .score-display {
            text-align: center;
            margin-bottom: 2rem;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(255, 215, 0, 0.05));
            border-radius: 15px;
            border: 2px solid #d4af37;
        }

        .score-number {
            font-size: 3rem;
            font-weight: bold;
            color: #8b4513;
            margin-bottom: 0.5rem;
        }

        .score-text {
            font-size: 1.2rem;
            color: #666;
            margin-top: 0.5rem;
        }

        .answer-review {
            margin-bottom: 2rem;
        }

        .review-item {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 4px solid;
        }

        .review-item.correct {
            border-left-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .review-item.incorrect {
            border-left-color: #dc3545;
            background: rgba(220, 53, 69, 0.1);
        }

        .improvement-tips {
            background: rgba(212, 175, 55, 0.1);
            border-radius: 10px;
            padding: 1.5rem;
            border: 2px solid rgba(212, 175, 55, 0.3);
        }

        .improvement-tips h4 {
            color: #8b4513;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .improvement-tips ul {
            list-style: none;
            padding: 0;
        }

        .improvement-tips li {
            margin-bottom: 0.8rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .improvement-tips li::before {
            content: '🎓';
            position: absolute;
            left: 0;
            top: 0;
        }

        /* Auto-submit popup styles */
        .auto-submit-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .auto-submit-popup {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3);
            border: 3px solid #d4af37;
            max-width: 500px;
            margin: 20px;
        }

        .auto-submit-title {
            font-size: 1.8rem;
            color: #8b4513;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .auto-submit-message {
            font-size: 1.1rem;
            color: #333;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .auto-submit-countdown {
            font-size: 2rem;
            color: #d4af37;
            font-weight: bold;
            margin-bottom: 25px;
        }

        .auto-submit-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .auto-submit-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .auto-submit-btn.primary {
            background: linear-gradient(135deg, #d4af37, #8b4513);
            color: white;
        }

        .auto-submit-btn.primary:hover {
            background: linear-gradient(135deg, #8b4513, #5d3a0a);
            transform: translateY(-2px);
        }

        .auto-submit-btn.secondary {
            background: #f0f0f0;
            color: #333;
            border: 2px solid #d4af37;
        }

        .auto-submit-btn.secondary:hover {
            background: rgba(212, 175, 55, 0.1);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                margin-left: 20px;
            }

            .slide-menu {
                width: 100%;
                transform: translateX(-100%);
            }

            .slide-menu.active {
                transform: translateX(0);
            }

            .menu-toggle {
                left: 30px;
            }

            .hero-title {
                font-size: 2rem;
            }

            .main-content {
                padding: 1rem;
            }

            .content-section {
                padding: 1.5rem;
            }

            .speakers-container {
                grid-template-columns: 1fr;
            }

            .play-btn {
                width: 90%;
                font-size: 1rem;
                padding: 0.8rem 1.5rem;
            }

            .matching-container {
                flex-direction: column;
                gap: 15px;
            }
        }

        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Selection Styles */
        ::selection {
            background: rgba(212, 175, 55, 0.3);
            color: #8b4513;
        }
    </style>
</head>
<body>
    <div class="header-spacer"></div>

    <!-- Guruvammal Logo as Back Button -->
    <div class="gk-logo-container" onclick="handleBackButton()">
        <div class="master-guruvammal-logo">
            Ga<span class="musical-corner">♪</span>
        </div>
        <div class="back-label">Back</div>
    </div>

    <!-- Professional Slide-out Menu -->
    <div class="slide-menu" id="slideMenu">
        <div class="menu-header">
            <div class="menu-title">🎓 IELTS Academic Listening</div>
            <div class="menu-subtitle">Part 3 - Practice 6</div>
        </div>
        <div class="menu-content">
            <a href="#speakers" class="menu-item" onclick="navigateToSection('speakers')">
                <div class="item-title">1. Conference Committee</div>
                <div class="item-description">👥 International Relations Conference Planning Team</div>
            </a>
            <a href="#audio-section" class="menu-item" onclick="navigateToSection('audio-section')">
                <div class="item-title">2. Committee Meeting</div>
                <div class="item-description">🎧 Academic Conference Organization (7 min)</div>
            </a>
            <a href="#questions" class="menu-item" onclick="navigateToSection('questions')">
                <div class="item-title">3. Questions (Part 3)</div>
                <div class="item-description">📝 Matching Questions + Sentence Completion</div>
            </a>
            <a href="#results" class="menu-item" onclick="navigateToSection('results')">
                <div class="item-title">4. Results & Analysis</div>
                <div class="item-description">📊 Performance Feedback & Improvement Tips</div>
            </a>
        </div>
    </div>

    <!-- Menu Toggle Button -->
    <div class="menu-toggle" id="menuToggle" onclick="toggleMenu()">
        <span id="menuIcon">📋</span>
    </div>

    <!-- Main Container -->
    <div class="container" id="container">
        <main class="main-content">
            <!-- Hero Section -->
            <section class="hero-section">
                <h1 class="hero-title">🎓 IELTS Academic Listening - Part 3 (Practice 6)</h1>
                <div class="hero-subtitle">
                    International Relations Conference Planning Committee
                </div>
                <p class="hero-description">
                    Listen to Dr. Helen Davis (Faculty Advisor), James Wilson (Committee Chair), Priya Sharma (International student), and Maria Santos (Graduate representative) discussing the organization of an academic conference. This conversation covers event logistics, speaker coordination, budget management, and venue arrangements. Complete matching questions and sentence completion tasks about their committee discussion. This practice covers Questions 21-30.
                </p>
            </section>

            <section id="speakers" class="content-section">
                <h2 class="section-title">👥 Conference Planning Committee</h2>
                <div class="speakers-container">
                    <div class="speaker-card" id="speaker1">
                        <div class="speaker-name">Dr. Helen Davis</div>
                        <div class="speaker-role">Faculty Advisor | International Relations Department</div>
                        <div class="speaker-details">
                            <strong>Accent:</strong> British English<br>
                            <strong>Specialization:</strong> International Relations, Academic Events<br>
                            <strong>Experience:</strong> 15+ years in conference organization<br>
                            <strong>Role:</strong> Provides faculty oversight and institutional guidance
                        </div>
                    </div>
                    <div class="speaker-card" id="speaker2">
                        <div class="speaker-name">James Wilson</div>
                        <div class="speaker-role">Committee Chair | International Relations Student</div>
                        <div class="speaker-details">
                            <strong>Accent:</strong> American English<br>
                            <strong>Academic Level:</strong> Masters in International Relations<br>
                            <strong>Experience:</strong> Student leadership and event management<br>
                            <strong>Background:</strong> Coordinates committee activities and logistics
                        </div>
                    </div>
                    <div class="speaker-card" id="speaker3">
                        <div class="speaker-name">Priya Sharma</div>
                        <div class="speaker-role">International Student | Committee Member</div>
                        <div class="speaker-details">
                            <strong>Accent:</strong> Australian English<br>
                            <strong>Academic Level:</strong> PhD candidate in International Relations<br>
                            <strong>Specialization:</strong> Global Politics and Cultural Relations<br>
                            <strong>Background:</strong> International perspective on conference planning
                        </div>
                    </div>
                    <div class="speaker-card" id="speaker4">
                        <div class="speaker-name">Maria Santos</div>
                        <div class="speaker-role">Graduate Representative | Committee Member</div>
                        <div class="speaker-details">
                            <strong>Accent:</strong> American English<br>
                            <strong>Academic Level:</strong> Masters in International Development<br>
                            <strong>Specialization:</strong> Graduate student representation<br>
                            <strong>Background:</strong> Ensures graduate student interests in conference planning
                        </div>
                    </div>
                </div>
            </section>

            <section id="audio-section" class="content-section">
                <h2 class="section-title">🎧 Conference Planning Committee Meeting</h2>
                <div class="conversation-context">
                    <strong>Academic Context:</strong> Student committee meeting for organizing an International Relations academic conference, covering event logistics, speaker coordination, budget management, and venue arrangements. The discussion involves planning timeline, resource allocation, and coordination strategies for a successful academic event.
                </div>
                
                <button class="play-btn" onclick="playAudio()" id="playBtn">
                    ▶️ Play
                </button>
                
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="time-display">
                        <span id="currentTime">00:00</span> / <span id="totalTime">07:00</span>
                    </div>
                </div>
                
                <div id="currentSpeaker" style="text-align: center; margin-top: 15px; font-weight: bold; color: #8b4513;"></div>
            </section>

            <section id="questions" class="content-section">
                <h2 class="section-title">📝 Conference Planning Assessment</h2>
                
                <!-- Matching Questions (Questions 21-24) -->
                <div class="question-group">
                    <h3 class="question-group-title">Questions 21-24: Matching</h3>
                    <p><em>Match each responsibility with the correct committee member.</em></p>
                    
                    <div class="matching-container">
                        <div class="matching-list">
                            <h4>Responsibilities:</h4>
                            
                            <div class="matching-item">
                                <label for="q21">21. Speaker coordination:</label>
                                <select class="matching-select" id="q21" name="q21">
                                    <option value="">Choose...</option>
                                    <option value="A">A. Dr. Helen Davis</option>
                                    <option value="B">B. James Wilson</option>
                                    <option value="C">C. Priya Sharma</option>
                                    <option value="D">D. Maria Santos</option>
                                </select>
                            </div>
                            
                            <div class="matching-item">
                                <label for="q22">22. Budget management:</label>
                                <select class="matching-select" id="q22" name="q22">
                                    <option value="">Choose...</option>
                                    <option value="A">A. Dr. Helen Davis</option>
                                    <option value="B">B. James Wilson</option>
                                    <option value="C">C. Priya Sharma</option>
                                    <option value="D">D. Maria Santos</option>
                                </select>
                            </div>
                            
                            <div class="matching-item">
                                <label for="q23">23. Venue arrangements:</label>
                                <select class="matching-select" id="q23" name="q23">
                                    <option value="">Choose...</option>
                                    <option value="A">A. Dr. Helen Davis</option>
                                    <option value="B">B. James Wilson</option>
                                    <option value="C">C. Priya Sharma</option>
                                    <option value="D">D. Maria Santos</option>
                                </select>
                            </div>
                            
                            <div class="matching-item">
                                <label for="q24">24. International outreach:</label>
                                <select class="matching-select" id="q24" name="q24">
                                    <option value="">Choose...</option>
                                    <option value="A">A. Dr. Helen Davis</option>
                                    <option value="B">B. James Wilson</option>
                                    <option value="C">C. Priya Sharma</option>
                                    <option value="D">D. Maria Santos</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="matching-options">
                            <div class="options-list">
                                <h4>Committee Members:</h4>
                                <p><strong>A. Dr. Helen Davis</strong> - Faculty Advisor with administrative authority</p>
                                <p><strong>B. James Wilson</strong> - Committee Chair responsible for coordination</p>
                                <p><strong>C. Priya Sharma</strong> - International student with global perspective</p>
                                <p><strong>D. Maria Santos</strong> - Graduate representative focused on student needs</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sentence Completion Questions (Questions 25-30) -->
                <div class="question-group">
                    <h3 class="question-group-title">Questions 25-30: Sentence Completion</h3>
                    <p><em>Complete the sentences below using NO MORE THAN TWO WORDS for each answer.</em></p>
                    
                    <div class="question">
                        <div class="question-number">Question 25</div>
                        <div class="question-text">
                            The conference theme will focus on 
                            <input type="text" class="completion-input" id="q25" placeholder="25">
                            challenges in international relations.
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 26</div>
                        <div class="question-text">
                            The main auditorium can accommodate up to 
                            <input type="text" class="completion-input" id="q26" placeholder="26">
                            participants for the keynote sessions.
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 27</div>
                        <div class="question-text">
                            The committee needs to secure 
                            <input type="text" class="completion-input" id="q27" placeholder="27">
                            for international speakers' travel expenses.
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 28</div>
                        <div class="question-text">
                            Registration fees will be 
                            <input type="text" class="completion-input" id="q28" placeholder="28">
                            for graduate students compared to regular rates.
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 29</div>
                        <div class="question-text">
                            The conference will include 
                            <input type="text" class="completion-input" id="q29" placeholder="29">
                            sessions where participants can network and discuss ideas.
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 30</div>
                        <div class="question-text">
                            Final preparations must be completed 
                            <input type="text" class="completion-input" id="q30" placeholder="30">
                            before the conference opening ceremony.
                        </div>
                    </div>
                </div>

                <button class="submit-btn" onclick="submitAnswers()">Submit Answers</button>
            </section>

            <section id="results" class="content-section" style="display: none;">
                <h2 class="section-title">📊 Results & Academic Performance Analysis</h2>
                
                <div class="score-display">
                    <div class="score-number" id="scoreNumber">0</div>
                    <div class="score-text">out of 10 questions correct</div>
                </div>

                <div class="answer-review" id="answerReview">
                    <!-- Answer review will be populated by JavaScript -->
                </div>

                <div class="improvement-tips">
                    <h4>🎓 Academic Part 3 Improvement Tips</h4>
                    <ul id="improvementList">
                        <!-- Tips will be populated by JavaScript -->
                    </ul>
                </div>
            </section>
        </main>
    </div>

    <!-- Auto-submit Timer Popup -->
    <div class="auto-submit-overlay" id="autoSubmitOverlay">
        <div class="auto-submit-popup">
            <div class="auto-submit-title">⏰ Time Completed!</div>
            <div class="auto-submit-message">
                The listening time has finished. You should submit your answers now as this simulates the real IELTS test conditions.
            </div>
            <div class="auto-submit-countdown" id="autoSubmitCountdown">10</div>
            <div class="auto-submit-buttons">
                <button class="auto-submit-btn primary" onclick="handleAutoSubmit()">Submit Now</button>
                <button class="auto-submit-btn secondary" onclick="continueWithoutSubmit()">Continue Working</button>
            </div>
        </div>
    </div>

    <script>
        // Academic conversation data with enhanced TTS integration
        const conversationData = [
            {
                speaker: "Dr. Helen Davis",
                text: "Good afternoon, everyone. Thank you for coming to our conference planning committee meeting. As you know, we're organizing the International Relations Academic Conference for next semester. Let's start with the key responsibilities. James, as committee chair, you'll be handling the overall coordination.",
                duration: 15000
            },
            {
                speaker: "James Wilson",
                text: "Absolutely, Dr. Davis. I'll take care of the speaker coordination as well. We need to reach out to keynote speakers and panel discussants. I think our conference theme should focus on contemporary challenges in international relations, particularly global security and economic cooperation.",
                duration: 14000
            },
            {
                speaker: "Priya Sharma",
                text: "That's an excellent theme, James. Given my international perspective, I'd like to volunteer for the international outreach responsibilities. I can help connect with universities abroad and ensure we have diverse geographical representation among our speakers.",
                duration: 12000
            },
            {
                speaker: "Maria Santos",
                text: "I think I should handle the budget management since I have experience with graduate funding processes. We need to be particularly careful about costs, especially for international speakers' travel expenses.",
                duration: 11000
            },
            {
                speaker: "Dr. Helen Davis",
                text: "Excellent division of responsibilities. Now, let's discuss venue arrangements. James, since you're coordinating everything, can you also manage the venue bookings? The main auditorium can accommodate up to three hundred participants for our keynote sessions.",
                duration: 13000
            },
            {
                speaker: "James Wilson",
                text: "Yes, I can handle venue arrangements along with speaker coordination. We should book the auditorium early, and we'll need smaller rooms for breakout sessions and networking opportunities.",
                duration: 10000
            },
            {
                speaker: "Maria Santos",
                text: "Regarding the budget, we need to secure funding for international speakers' travel expenses. I suggest we apply for additional grants from the International Relations Department and possibly seek external sponsors.",
                duration: 12000
            },
            {
                speaker: "Priya Sharma",
                text: "For registration fees, I think they should be reduced for graduate students. Many international graduate students struggle with conference costs, so reduced rates would encourage more participation from diverse backgrounds.",
                duration: 11000
            },
            {
                speaker: "Dr. Helen Davis",
                text: "That's a thoughtful suggestion, Priya. Maria, can you look into implementing reduced registration fees for graduate students? Also, we should plan interactive sessions where participants can network and exchange ideas informally.",
                duration: 13000
            },
            {
                speaker: "James Wilson",
                text: "I'll schedule several networking sessions throughout the conference. These will be crucial for building academic relationships and fostering collaboration between institutions.",
                duration: 9000
            },
            {
                speaker: "Maria Santos",
                text: "We should establish a timeline for final preparations. I suggest all final preparations must be completed one week before the conference opening ceremony to avoid last-minute stress.",
                duration: 10000
            },
            {
                speaker: "Dr. Helen Davis",
                text: "Perfect. One week should give us enough buffer time. Let's meet again in two weeks to review our progress and address any challenges that may arise.",
                duration: 8000
            },
            {
                speaker: "pause",
                text: "",
                duration: 3000
            }
        ];

        // Audio control variables
        let currentIndex = 0;
        let isPlaying = false;
        let speechSynthesis = window.speechSynthesis;
        let currentUtterance = null;
        let totalDuration = conversationData.reduce((sum, item) => sum + item.duration, 0) + 120000; // Add 2 minutes buffer
        let currentTime = 0;
        let audioInterval;
        let autoSubmitInterval;
        let autoSubmitCountdown = 10;

        // Voice configuration for different speakers
        const voiceConfig = {
            "Dr. Helen Davis": {
                rate: 0.85,
                pitch: 1.0,
                volume: 0.9,
                lang: 'en-GB'
            },
            "James Wilson": {
                rate: 0.9,
                pitch: 0.9,
                volume: 0.9,
                lang: 'en-US'
            },
            "Priya Sharma": {
                rate: 0.8,
                pitch: 1.1,
                volume: 0.9,
                lang: 'en-AU'
            },
            "Maria Santos": {
                rate: 0.9,
                pitch: 1.0,
                volume: 0.9,
                lang: 'en-US'
            }
        };

        function highlightCurrentSpeaker(speakerName) {
            // Reset all speaker cards
            document.querySelectorAll('.speaker-card').forEach(card => {
                card.classList.remove('active');
            });
            
            // Handle pause or end of conversation
            if (speakerName === "pause" || !speakerName) {
                document.getElementById('currentSpeaker').textContent = '⏸️ Conference planning discussion pausing...';
                return;
            }
            
            // Highlight current speaker
            if (speakerName === "Dr. Helen Davis") {
                document.getElementById('speaker1').classList.add('active');
                document.getElementById('currentSpeaker').textContent = `🗣️ Currently speaking: Dr. Davis`;
            } else if (speakerName === "James Wilson") {
                document.getElementById('speaker2').classList.add('active');
                document.getElementById('currentSpeaker').textContent = `🗣️ Currently speaking: James`;
            } else if (speakerName === "Priya Sharma") {
                document.getElementById('speaker3').classList.add('active');
                document.getElementById('currentSpeaker').textContent = `🗣️ Currently speaking: Priya`;
            } else if (speakerName === "Maria Santos") {
                document.getElementById('speaker4').classList.add('active');
                document.getElementById('currentSpeaker').textContent = `🗣️ Currently speaking: Maria`;
            }
        }

        function updateProgress() {
            if (isPlaying) {
                currentTime += 100;
                const progress = Math.min((currentTime / totalDuration) * 100, 100);
                document.getElementById('progressFill').style.width = progress + '%';
                
                // Update time display
                const currentMinutes = Math.floor(currentTime / 60000);
                const currentSeconds = Math.floor((currentTime % 60000) / 1000);
                document.getElementById('currentTime').textContent = 
                    `${currentMinutes.toString().padStart(2, '0')}:${currentSeconds.toString().padStart(2, '0')}`;
                
                // Check if time is completed (when progress reaches 100%)
                if (currentTime >= totalDuration) {
                    console.log('⏰ Timer completed - showing auto-submit popup');
                    showAutoSubmitPopup();
                }
            }
        }

        function formatTime(milliseconds) {
            const minutes = Math.floor(milliseconds / 60000);
            const seconds = Math.floor((milliseconds % 60000) / 1000);
            return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function playAudio() {
            if (currentIndex >= conversationData.length) {
                currentIndex = 0;
                currentTime = 0;
            }
            
            isPlaying = true;
            document.getElementById('playBtn').disabled = true;
            document.getElementById('playBtn').textContent = '🔊 Playing...';
            
            audioInterval = setInterval(updateProgress, 100);
            playCurrentSegment();
        }

        function playCurrentSegment() {
            if (!isPlaying) {
                return;
            }
            
            if (currentIndex >= conversationData.length) {
                console.log('🎯 Reached end of conversation data');
                stopAudio();
                return;
            }

            const segment = conversationData[currentIndex];
            
            // Handle pause segments
            if (segment.speaker === "pause") {
                console.log(`⏸️ Playing pause segment ${currentIndex + 1} for ${segment.duration}ms`);
                highlightCurrentSpeaker("pause");
                currentIndex++;
                setTimeout(() => {
                    if (isPlaying) {
                        if (currentIndex < conversationData.length) {
                            playCurrentSegment();
                        } else {
                            console.log('🎯 All conversation segments completed after pause');
                            stopAudio();
                        }
                    }
                }, segment.duration);
                return;
            }

            highlightCurrentSpeaker(segment.speaker);

            // Create speech utterance
            currentUtterance = new SpeechSynthesisUtterance(segment.text);
            
            // Apply voice configuration
            const config = voiceConfig[segment.speaker];
            if (config) {
                currentUtterance.rate = config.rate;
                currentUtterance.pitch = config.pitch;
                currentUtterance.volume = config.volume;
                currentUtterance.lang = config.lang;
            }

            // Set voice based on language and speaker
            const voices = speechSynthesis.getVoices();
            if (segment.speaker === "Dr. Helen Davis") {
                const britishVoice = voices.find(voice => 
                    voice.lang.includes('en-GB') && voice.name.toLowerCase().includes('female')
                ) || voices.find(voice => voice.lang.includes('en-GB'));
                if (britishVoice) currentUtterance.voice = britishVoice;
            } else if (segment.speaker === "James Wilson") {
                const americanVoice = voices.find(voice => 
                    voice.lang.includes('en-US') && voice.name.toLowerCase().includes('male')
                ) || voices.find(voice => voice.lang.includes('en-US'));
                if (americanVoice) currentUtterance.voice = americanVoice;
            } else if (segment.speaker === "Priya Sharma") {
                const australianVoice = voices.find(voice => 
                    voice.lang.includes('en-AU') && voice.name.toLowerCase().includes('female')
                ) || voices.find(voice => voice.lang.includes('en-AU'));
                if (australianVoice) currentUtterance.voice = australianVoice;
            } else if (segment.speaker === "Maria Santos") {
                const americanVoice = voices.find(voice => 
                    voice.lang.includes('en-US') && voice.name.toLowerCase().includes('female')
                ) || voices.find(voice => voice.lang.includes('en-US'));
                if (americanVoice) currentUtterance.voice = americanVoice;
            }

            currentUtterance.onstart = () => {
                console.log(`🎤 Started segment ${currentIndex + 1}: ${segment.speaker}`);
            };

            currentUtterance.onend = () => {
                console.log(`✅ Completed segment ${currentIndex + 1}: ${segment.speaker}`);
                currentIndex++;
                // Add natural pause between speakers (2 seconds for academic conversation)
                setTimeout(() => {
                    if (isPlaying) {
                        if (currentIndex < conversationData.length) {
                            playCurrentSegment();
                        } else {
                            console.log('🎯 All conversation segments completed');
                            stopAudio();
                        }
                    }
                }, 2000);
            };

            currentUtterance.onerror = (event) => {
                console.error(`❌ Error in segment ${currentIndex + 1}:`, event.error);
                // Continue to next segment on error
                currentIndex++;
                setTimeout(() => {
                    if (isPlaying && currentIndex < conversationData.length) {
                        playCurrentSegment();
                    } else {
                        stopAudio();
                    }
                }, 1000);
            };

            try {
                speechSynthesis.speak(currentUtterance);
            } catch (error) {
                console.error(`❌ Failed to start TTS for segment ${currentIndex + 1}:`, error);
                // Continue to next segment
                currentIndex++;
                setTimeout(() => {
                    if (isPlaying && currentIndex < conversationData.length) {
                        playCurrentSegment();
                    } else {
                        stopAudio();
                    }
                }, 1000);
            }
        }

        function stopAudio() {
            isPlaying = false;
            speechSynthesis.cancel();
            clearInterval(audioInterval);
            
            // Show completion message if audio played to the end
            if (currentIndex >= conversationData.length) {
                document.getElementById('currentSpeaker').textContent = '✅ Conference planning discussion completed. You may now answer the questions.';
                setTimeout(() => {
                    document.getElementById('currentSpeaker').textContent = '';
                }, 3000);
            } else {
                document.getElementById('currentSpeaker').textContent = '';
            }
            
            currentIndex = 0;
            currentTime = 0;
            
            document.getElementById('progressFill').style.width = '0%';
            document.getElementById('currentTime').textContent = '00:00';
            document.querySelectorAll('.speaker-card').forEach(card => {
                card.classList.remove('active');
            });
            
            document.getElementById('playBtn').disabled = false;
            document.getElementById('playBtn').textContent = '▶️ Play';
        }

        // Correct answers for assessment
        const correctAnswers = {
            q21: 'B', // James Wilson - Speaker coordination
            q22: 'D', // Maria Santos - Budget management
            q23: 'B', // James Wilson - Venue arrangements
            q24: 'C', // Priya Sharma - International outreach
            q25: 'contemporary', // Contemporary challenges in international relations
            q26: 'three hundred', // Three hundred participants for keynote sessions
            q27: 'funding', // Secure funding for international speakers' travel expenses
            q28: 'reduced', // Registration fees will be reduced for graduate students
            q29: 'networking', // Conference will include networking sessions
            q30: 'one week' // Final preparations must be completed one week before
        };

        // Question explanations
        const explanations = {
            q21: 'James Wilson states: "I\'ll take care of the speaker coordination as well. We need to reach out to keynote speakers and panel discussants."',
            q22: 'Maria Santos volunteers: "I think I should handle the budget management since I have experience with graduate funding processes."',
            q23: 'Dr. Davis asks James: "Can you also manage the venue bookings?" and James responds: "Yes, I can handle venue arrangements along with speaker coordination."',
            q24: 'Priya Sharma offers: "I\'d like to volunteer for the international outreach responsibilities. I can help connect with universities abroad."',
            q25: 'James suggests the theme: "I think our conference theme should focus on contemporary challenges in international relations."',
            q26: 'Dr. Davis explains: "The main auditorium can accommodate up to three hundred participants for our keynote sessions."',
            q27: 'Maria Santos states: "We need to secure funding for international speakers\' travel expenses."',
            q28: 'Priya recommends: "For registration fees, I think they should be reduced for graduate students."',
            q29: 'Dr. Davis suggests: "We should plan interactive sessions where participants can network and exchange ideas informally."',
            q30: 'Maria Santos proposes: "All final preparations must be completed one week before the conference opening ceremony."'
        };

        function submitAnswers() {
            let score = 0;
            const answers = {};
            const reviewHTML = [];
            
            // Check matching questions (21-24)
            for (let i = 21; i <= 24; i++) {
                const questionName = `q${i}`;
                const selectedOption = document.getElementById(questionName);
                const answer = selectedOption ? selectedOption.value : '';
                answers[questionName] = answer;
                
                const correct = correctAnswers[questionName];
                const isCorrect = answer === correct;
                if (isCorrect) score++;
                
                reviewHTML.push(`
                    <div class="review-item ${isCorrect ? 'correct' : 'incorrect'}">
                        <strong>Question ${i}:</strong> ${isCorrect ? '✅' : '❌'}<br>
                        <strong>Your answer:</strong> ${answer || '<em>No answer</em>'}<br>
                        <strong>Correct answer:</strong> ${correctAnswers[questionName]}<br>
                        <strong>Explanation:</strong> ${explanations[questionName]}
                    </div>
                `);
            }

            // Check sentence completion questions (25-30)
            for (let i = 25; i <= 30; i++) {
                const questionName = `q${i}`;
                const answer = document.getElementById(questionName).value.trim().toLowerCase();
                answers[questionName] = answer;
                
                const correct = correctAnswers[questionName].toLowerCase();
                const isCorrect = answer === correct || 
                    (correct.includes(' ') && correct.split(' ').some(word => answer.includes(word)));
                if (isCorrect) score++;
                
                reviewHTML.push(`
                    <div class="review-item ${isCorrect ? 'correct' : 'incorrect'}">
                        <strong>Question ${i}:</strong> ${isCorrect ? '✅' : '❌'}<br>
                        <strong>Your answer:</strong> ${answer || '<em>No answer</em>'}<br>
                        <strong>Correct answer:</strong> ${correctAnswers[questionName]}<br>
                        <strong>Explanation:</strong> ${explanations[questionName]}
                    </div>
                `);
            }
            
            // Update score display
            document.getElementById('scoreNumber').textContent = score;
            document.getElementById('answerReview').innerHTML = reviewHTML.join('');
            
            // Generate improvement tips
            const tips = generateImprovementTips(score);
            const tipsHTML = tips.map(tip => `<li>${tip}</li>`).join('');
            document.getElementById('improvementList').innerHTML = tipsHTML;
            
            // Show results section
            document.getElementById('results').style.display = 'block';
            document.getElementById('results').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });
        }

        function generateImprovementTips(score) {
            const tips = [];
            
            if (score <= 3) {
                tips.push("Focus on listening for specific details in conference planning and committee discussions");
                tips.push("Practice understanding multi-speaker conversations with different accents and roles");
                tips.push("Work on identifying speaker responsibilities and task allocation in academic contexts");
                tips.push("Listen to university committee meetings and academic event planning discussions");
            } else if (score <= 6) {
                tips.push("Develop better prediction skills by reading question stems before listening to committee conversations");
                tips.push("Practice distinguishing between different committee members' roles and responsibilities");
                tips.push("Work on matching questions with academic event planning vocabulary and organizational terminology");
                tips.push("Focus on understanding conference organization dynamics and logistics coordination");
            } else if (score <= 8) {
                tips.push("Fine-tune your ability to catch specific details in multi-speaker committee planning conversations");
                tips.push("Practice following complex event organization discussions and budget planning conversations");
                tips.push("Work on maintaining concentration throughout longer committee meetings with multiple participants");
                tips.push("Review vocabulary related to conference planning, budget management, and academic event coordination");
            } else {
                tips.push("Excellent work! Continue practicing with authentic IELTS Academic Part 3 materials");
                tips.push("Focus on time management to complete both matching and sentence completion questions efficiently");
                tips.push("Practice with different academic accents and multi-speaker scenarios to prepare for test day variety");
                tips.push("Consider helping others to reinforce your own academic conversation listening and committee meeting skills");
            }
            
            return tips;
        }

        // Auto-submit timer functions
        function showAutoSubmitPopup() {
            // Stop audio and clear intervals
            isPlaying = false;
            speechSynthesis.cancel();
            clearInterval(audioInterval);
            
            // Show the popup
            document.getElementById('autoSubmitOverlay').style.display = 'flex';
            
            // Reset countdown
            autoSubmitCountdown = 10;
            document.getElementById('autoSubmitCountdown').textContent = autoSubmitCountdown;
            
            // Start countdown
            autoSubmitInterval = setInterval(() => {
                autoSubmitCountdown--;
                document.getElementById('autoSubmitCountdown').textContent = autoSubmitCountdown;
                
                if (autoSubmitCountdown <= 0) {
                    clearInterval(autoSubmitInterval);
                    handleAutoSubmit();
                }
            }, 1000);
        }

        function handleAutoSubmit() {
            clearInterval(autoSubmitInterval);
            document.getElementById('autoSubmitOverlay').style.display = 'none';
            
            // Automatically submit answers
            submitAnswers();
            
            // Show message
            setTimeout(() => {
                alert('⏰ Time completed! Your answers have been automatically submitted as per IELTS test conditions.');
            }, 500);
        }

        function continueWithoutSubmit() {
            clearInterval(autoSubmitInterval);
            document.getElementById('autoSubmitOverlay').style.display = 'none';
            
            // Allow user to continue working
            console.log('📝 User chose to continue working after timer completion');
        }

        // Navigation and menu functions
        function handleBackButton() {
            console.log('🔄 Back button clicked from IELTS Academic Listening Part 3 Practice 6 - Going to introduction');
            window.location.href = 'IELTS_Academic_Listening_Introduction.html';
        }

        function toggleMenu() {
            const menu = document.getElementById('slideMenu');
            const container = document.getElementById('container');
            const menuToggle = document.getElementById('menuToggle');
            
            menu.classList.toggle('collapsed');
            container.classList.toggle('menu-collapsed');
            menuToggle.classList.toggle('collapsed');
        }

        function navigateToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });
            
            // Auto-collapse menu on mobile
            if (window.innerWidth <= 768) {
                toggleMenu();
            }
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                handleBackButton();
            } else if (event.code === 'Space' && !isPlaying) {
                event.preventDefault();
                playAudio();
            } else if (event.ctrlKey && event.key === 'Tab') {
                event.preventDefault();
                toggleMenu();
            }
        });

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🎓 IELTS Academic Listening Part 3 Practice 6 - Conference Planning loaded');
            
            // Debug audio system
            console.log('🔊 Browser audio capabilities:');
            console.log('- speechSynthesis available:', 'speechSynthesis' in window);
            console.log('- Web Audio API available:', 'AudioContext' in window || 'webkitAudioContext' in window);
            
            // Test speech synthesis availability
            if ('speechSynthesis' in window) {
                setTimeout(() => {
                    const voices = speechSynthesis.getVoices();
                    console.log('🎤 Initial voices check:', voices.length, 'voices available');
                    if (voices.length === 0) {
                        console.log('⏳ Waiting for voices to load...');
                        speechSynthesis.addEventListener('voiceschanged', function() {
                            const newVoices = speechSynthesis.getVoices();
                            console.log('🎤 Voices loaded:', newVoices.length, 'voices now available');
                        });
                    }
                }, 1000);
            }
            
            // Set total time display
            document.getElementById('totalTime').textContent = formatTime(totalDuration);
        });

        // Clean up on page unload
        window.addEventListener('beforeunload', function() {
            if ('speechSynthesis' in window) {
                speechSynthesis.cancel();
            }
            if (audioInterval) {
                clearInterval(audioInterval);
            }
            if (autoSubmitInterval) {
                clearInterval(autoSubmitInterval);
            }
        });
    </script>
</body>
</html> 